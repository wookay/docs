<!DOCTYPE html>
<html lang="ko"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ì €ì¥ &amp; ë¶ˆëŸ¬ì˜¤ê¸° Â· ğŸ¦‰</title><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-6977995344550016",
          enable_page_level_ads: true
     });
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/><script src="assets/jquery-1.8.3.min.js"></script><script src="assets/jquery.word-break-keep-all.min.js"></script><script>$(document).ready(function() { $('p').wordBreakKeepAll(); });</script></head><body><nav class="toc"><h1>ğŸ¦‰</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Flux âœ…</span><ul><li><a class="toctext" href="../">Flux í™ˆ</a></li><li><span class="toctext">ëª¨ë¸ ë§Œë“¤ê¸°</span><ul><li><a class="toctext" href="../models/basics/">ê¸°ë³¸ì ì¸ ê²ƒ</a></li><li><a class="toctext" href="../models/recurrence/">ìˆœí™˜(Recurrence)</a></li><li><a class="toctext" href="../models/regularisation/">ì •ê·œí™”(Regularisation)</a></li><li><a class="toctext" href="../models/layers/">ëª¨ë¸ ì°¸ì¡°(Model Reference)</a></li></ul></li><li><span class="toctext">ëª¨ë¸ í›ˆë ¨ì‹œí‚¤ê¸°</span><ul><li><a class="toctext" href="../training/optimisers/">ìµœì í™”</a></li><li><a class="toctext" href="../training/training/">í›ˆë ¨ì‹œí‚¤ê¸°</a></li></ul></li><li><a class="toctext" href="../data/onehot/">ì›-í•« ì¸ì½”ë”©</a></li><li><a class="toctext" href="../gpu/">GPU ì§€ì›</a></li><li class="current"><a class="toctext" href>ì €ì¥ &amp; ë¶ˆëŸ¬ì˜¤ê¸°</a><ul class="internal"><li><a class="toctext" href="#ëª¨ë¸-ê°€ì¤‘ì¹˜-ì €ì¥í•˜ê¸°-1">ëª¨ë¸ ê°€ì¤‘ì¹˜ ì €ì¥í•˜ê¸°</a></li><li><a class="toctext" href="#ì²´í¬í¬ì¸íŒ…-1">ì²´í¬í¬ì¸íŒ…</a></li></ul></li><li><a class="toctext" href="../community/">ì»¤ë®¤ë‹ˆí‹°</a></li></ul></li><li><span class="toctext">DataFlow âœ…</span><ul><li><a class="toctext" href="../../DataFlow/vertices/">DataFlow ë²„í‹°ìŠ¤(vertices)</a></li></ul></li><li><span class="toctext">MacroTools</span><ul><li><a class="toctext" href="../../MacroTools/README/">MacroTools README</a></li></ul></li><li><span class="toctext">FluxJS</span><ul><li><a class="toctext" href="../../FluxJS/README/">FluxJS README</a></li></ul></li><li><span class="toctext">Vinyl</span><ul><li><a class="toctext" href="../../Vinyl/README/">Vinyl README</a></li></ul></li><li><span class="toctext">GSoC</span><ul><li><a class="toctext" href="../../soc/guidelines/">Application Guidelines</a></li><li><a class="toctext" href="../../soc/projects/ml/">Data Science &amp; Machine Learning</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Flux âœ…</li><li><a href>ì €ì¥ &amp; ë¶ˆëŸ¬ì˜¤ê¸°</a></li></ul><a class="edit-page" href="https://github.com/wookay/Owl.jl/blob/master/docs/src/Flux/saving.md"><span class="fa">ï‚›</span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>ì €ì¥ &amp; ë¶ˆëŸ¬ì˜¤ê¸°</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="ëª¨ë¸ì„-ì €ì¥í•˜ê³ -ë¶ˆëŸ¬ì˜¤ê¸°-1" href="#ëª¨ë¸ì„-ì €ì¥í•˜ê³ -ë¶ˆëŸ¬ì˜¤ê¸°-1">ëª¨ë¸ì„ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸°</a></h1><p>ëª¨ë¸ì„ ì €ì¥í•˜ê³ ëŠ” ì°¨í›„ì— ì´ë¥¼ ë¶ˆëŸ¬ë“¤ì—¬ ì‹¤í–‰í•˜ê³  ì‹¶ì€ê°€. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ <a href="https://github.com/MikeInnes/BSON.jl">BSON.jl</a> ì´ë‹¤.</p><p>ëª¨ë¸ì„ ì €ì¥í•˜ì:</p><pre><code class="language-julia-repl">julia&gt; using Flux

julia&gt; model = Chain(Dense(10,5,relu),Dense(5,2),softmax)
Chain(Dense(10, 5, NNlib.relu), Dense(5, 2), NNlib.softmax)

julia&gt; using BSON: @save

julia&gt; @save &quot;mymodel.bson&quot; model</code></pre><p>ë¶ˆëŸ¬ì˜¤ê¸°:</p><pre><code class="language-julia-repl">julia&gt; using Flux

julia&gt; using BSON: @load

julia&gt; @load &quot;mymodel.bson&quot; model

julia&gt; model
Chain(Dense(10, 5, NNlib.relu), Dense(5, 2), NNlib.softmax)</code></pre><p>ëª¨ë¸ì€ ë³´í†µì˜ ì¤„ë¦¬ì•„ íƒ€ì…ì´ë‹¤. ë”°ë¼ì„œ ì¤„ë¦¬ì•„ ì €ì¥ í¬ë§·ì´ë©´ ì–´ëŠ ê²ƒì´ë¼ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. BSON.jlì€ íŠ¹íˆ ì˜ ì§€ì›í•˜ë©° ì•ìœ¼ë¡œë„ ë˜ë„ë¡ í˜¸í™˜ì„ ìœ ì§€í•œë‹¤ (ì§€ê¸ˆ ì €ì¥í•œ ëª¨ë¸ì´ Fluxì˜ ì°¨í›„ ë²„ì „ì—ì„œë„ ë¶ˆëŸ¬ë“¤ì¼ ìˆ˜ ìˆê²Œ).</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>GPUì— ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ë¥¼ ì €ì¥í•˜ì˜€ìœ¼ë©´, GPU ì§€ì›ì´ ì•ˆë˜ëŠ” ê²½ìš°ì—ëŠ” ì´ë¥¼ ë¶ˆëŸ¬ ë“¤ì¼ ìˆ˜ ì—†ë‹¤. ì €ì¥í•˜ê¸° ì „ì— <a href="../gpu/">ëª¨ë¸ì„ CPUë¡œ ëŒë ¤ë†“ê¸°</a> ì—ì„œì˜ <code>cpu(model)</code>ë¥¼ í•´ì£¼ëŠ”ê²Œ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì´ë‹¤.</p></div></div><h2><a class="nav-anchor" id="ëª¨ë¸-ê°€ì¤‘ì¹˜-ì €ì¥í•˜ê¸°-1" href="#ëª¨ë¸-ê°€ì¤‘ì¹˜-ì €ì¥í•˜ê¸°-1">ëª¨ë¸ ê°€ì¤‘ì¹˜ ì €ì¥í•˜ê¸°</a></h2><p>ì–´ë–¤ ê²½ìš°ëŠ” ì €ì¥ì€ ëª¨ë¸ íŒŒë¼ë¯¸í„°ë§Œ í•˜ê³  ì½”ë“œì—ì„œ ëª¨ë¸ ì•„í‚¤í…ì²˜ë¥¼ ì¬êµ¬ì„±í•˜ëŠ”ê²Œ ìœ ìš©í•œ ë°©ë²•ì¼ ìˆ˜ ìˆë‹¤. <code>params(model)</code>ë¡œ ëª¨ë¸ íŒŒë¼ë¯¸í„°ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤. <code>data.(params)</code>ì„ í•˜ë©´ ì¶”ì  ë‚´ì—­ ë°ì´í„°ë¥¼ ì§€ìš¸ ìˆ˜ ìˆë‹¤.</p><pre><code class="language-julia-repl">julia&gt; using Flux

julia&gt; model = Chain(Dense(10,5,relu),Dense(5,2),softmax)
Chain(Dense(10, 5, NNlib.relu), Dense(5, 2), NNlib.softmax)

julia&gt; weights = Tracker.data.(params(model));

julia&gt; using BSON: @save

julia&gt; @save &quot;mymodel.bson&quot; weights</code></pre><p><code>Flux.loadparams!</code>ë¡œ ì‰½ê²Œ ëª¨ë¸ì— íŒŒë¼ë¯¸í„°ë¥¼ ë¶ˆëŸ¬ë“¤ì¼ ìˆ˜ ìˆë‹¤.</p><pre><code class="language-julia-repl">julia&gt; using Flux

julia&gt; model = Chain(Dense(10,5,relu),Dense(5,2),softmax)
Chain(Dense(10, 5, NNlib.relu), Dense(5, 2), NNlib.softmax)

julia&gt; using BSON: @load

julia&gt; @load &quot;mymodel.bson&quot; weights

julia&gt; Flux.loadparams!(model, weights)</code></pre><p>ìƒˆë¡œ ëœ¬ <code>model</code>ì€ ì „ì— íŒŒë¼ë¯¸í„° ì €ì¥í•œ ê²ƒê³¼ ì¼ì¹˜í•œë‹¤.</p><h2><a class="nav-anchor" id="ì²´í¬í¬ì¸íŒ…-1" href="#ì²´í¬í¬ì¸íŒ…-1">ì²´í¬í¬ì¸íŒ…</a></h2><p>ì¥ì‹œê°„ í›ˆë ¨ì— ìˆì–´ ì£¼ê¸°ì ìœ¼ë¡œ ëª¨ë¸ì„ ì €ì¥í•˜ëŠ” ê²ƒì€ ì°¸ ì¢‹ì€ ìƒê°ì´ë‹¤. ê·¸ëŸ¬ë©´ í›ˆë ¨ì´ ì¤‘ë‹¨ë˜ì–´ë„ (íŒŒì›Œê°€ ë‚˜ê°€ëŠ” ë“±ë“±ì˜ ì´ìœ ë¡œ) ë‹¤ì‹œ ì¬ê°œí•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ê¸° ìœ„í•´ì„œëŠ” <a href="../training/training/"><code>train!</code>ì˜ ì»¬ë°± í•¨ìˆ˜</a>ì—ì„œ ëª¨ë¸ì„ ì €ì¥í•˜ë©´ ëœë‹¤.</p><pre><code class="language-julia">using Flux: throttle
using BSON: @save

m = Chain(Dense(10,5,relu),Dense(5,2),softmax)

evalcb = throttle(30) do
  # loss ë³´ê¸°
  @save &quot;model-checkpoint.bson&quot; model
end</code></pre><p>ì´ëŸ¬ë©´ <code>&quot;model-checkpoint.bson&quot;</code> íŒŒì¼ì„ 30ì´ˆ ë§ˆë‹¤ ì—…ë°ì´íŠ¸ í•œë‹¤.</p><p>í›ˆë ¨ì‹œí‚¤ëŠ” ë™ì•ˆì— ëª¨ë¸ì„ ì—°ë‹¬ì•„ ì €ì¥í•˜ëŠ” ê¹Œë¦¬í•œ ë°©ë²•ë„ ìˆëŠ”ë° ì˜ˆë¥¼ ë“¤ë©´</p><pre><code class="language-julia">@save &quot;model-$(now()).bson&quot; model</code></pre><p>ì´ë ‡ê²Œ í•˜ë©´ <code>&quot;model-2018-03-06T02:57:10.41.bson&quot;</code>ê³¼ ê°™ì´ ì—°ë‹¬ì•„ì„œ ëª¨ë¸ì´ ì €ì¥ëœë‹¤. í˜„ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ lossë„ ì €ì¥í•  ìˆ˜ ìˆì–´ì„œ, ì˜¤ë²„í”¼íŒ… ì‹œì‘í•œë‹¤ ì‹¶ìœ¼ë©´ ì´ì „ ì‚¬ë³¸ì˜ ëª¨ë¸ë¡œ ë³µêµ¬ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤.</p><pre><code class="language-julia">@save &quot;model-$(now()).bson&quot; model loss = testloss()</code></pre><p>ëª¨ë¸ì˜ ìµœì í™” ìƒíƒœê¹Œì§€ë„ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë‹ˆ, ì •í™•í•˜ê²Œ ì¤‘ë‹¨ëœ ì§€ì ë¶€í„° ì´ì–´ í›ˆë ¨ì„ ì¬ê°œí•  ìˆ˜ ìˆë‹¤.</p><pre><code class="language-julia">opt = ADAM(params(model))
@save &quot;model-$(now()).bson&quot; model opt</code></pre><footer><hr/><a class="previous" href="../gpu/"><span class="direction">ì´ì „ê¸€</span><span class="title">GPU ì§€ì›</span></a><a class="next" href="../community/"><span class="direction">ë‹¤ìŒê¸€</span><span class="title">ì»¤ë®¤ë‹ˆí‹°</span></a></footer></article></body></html>
